## Meet up at 2.00 a.m
현재 초기 스타트업의 신입으로 근무 중에 있으며, 아직 문화나 코드 설계방식, 그리고 서비스가 구체화되어 있지 않은 상황에서
낙성대 개발자 모임의 도메인 주도 설계 스터디 팀과 함께 공부하고 개인적으로 회사에 기여하려고 노력하고 있습니다.
---

### INDEX
1. 지식 탐구
2. 의사소통과 언어 사용
3. 모델과 구현의 연계
4. 도메인의 격리
5. 계층 간 아키텍처 프레임워크

---
### 서론
이 책을 공부하기 앞서, 엔터티, 값 객체, 애거리거트 용어에 직접적인 접근 이전에 개략적으로 도메인 주도 개발이 무엇인지 왜 사용해야 하는지에 대해 고민해야 한다고 생각했다.
처음에 공부할 때에는 너무 어렵고 단어들이 생소해서, 접근조차 하기 쉽지 않았지만, 현재는 스터디의 힘을 빌리고 있고, 선배 개발자들과 함께 고민하며 공부하고 있기에
나름 힘을 내고있다. 취업하기 이전, 나는 도메인 주도 개발이 그저 객체지향 프로그래머들의 복잡성을 다루는 심화 학습이라고만 생각했다. <br>
코드 컨벤션을 다르게 잡고, 그저 코드를 어렵게 짜야 프로그래밍을 했다고 생각할 수 있게끔 해주는 설계 원칙이라고만 생각했다. <br>
조용호님의 오브젝트 책을 읽었을 때에도 같은 느낌을 받았다. 도메인 주도 개발 설계를 공부하면서, 각각의 용어들을 추상화하고 도메인의 결합도는 낮추면서 응집성을 높여봐야,
어차피 객체지향 프로그래밍과 다를바 없지 않느냐, 코드가 관리된다면 같은 원칙일 것이라고 말이다. <br>

하지만, 스타트업에 취업을 하고 며칠이 지난 나는, 완전히 다른 사람이 되었다. 도메인 주도 개발의 중요성과 필요성은 머리로만 생각했지, 실제로 적용을 해야겠다고 생각한 적은 없었다.
회사의 비전과 기획자, 마케터, 그리고 개발팀. 하나의 비지니스 모델을 기획했지만 서로가 다른 생각을 가지고 있고, 프로세스가 어떻게 흘러가야하는 지는 아무도 공유가 되어 있지 않았다. 서버를 올려야하는데, 도메인의 지식은 물론, 대화조차 되지 않았다.
API 설계를 해야하는데, 프론트와의 협업이 어려웠다. 입사하고 업무에 숙달되기까지 필요했던 시간, 그리고 작성된 소프트웨어를 이해하는 시간, 현재까지의 비지니스 핵심 로직에 대한 이해가 전혀 되지 않았다. 나름대로 공부했다고 생각했는데,
불행하게도 나는 이해할 수 있는 부분이 많이 없었던 것 같다. -> 내공의 부족 및 업무 이해 능력 부족

글쎄, 지금 도메인 주도 개발을 공부하고, 이것대로 설계된 프로그램이었다면 나는 이해할 수 있었을까? 이 질문에 대한 답변은 역시 아니라고 할 수 있겠지만. 새로 설계하려는 프로그램이 나는 잘 작성되었으면 좋겠다는 생각으로 공부를 다시 시작하려고 한다.

### 지식 탐구
설계의 모든 단계에서 개발자와 도메인 전문가는 서로 활발하게 논의를 해야하며, 개발자는 도메인의 영역에 대해 그리고 도메인 전문가는 기술적인 측면에 대해 서로 모르거나 다르게 알고 있는 부분에 대해 끊임없이 소통하며 이 엄청난 정보의 홍수속에서 관련있는
정보를 찾아 연결해야 한다고 한다. 이 부분에서 상당히 충격이었다. 유비쿼터스 언어의 중요성과 프로세스를 모델링 하는 부분은 상당히 중요하다고 생각한다. 우리가 원하는 **소프트웨어** 는 우리의 소통과 협업속에서 만들어진다고 생각하기 때문이다.
소통이 없는 프로그램은 죽은 프로그램이라고 생각한다. 결국 마지막에 엎어야 할 로직이나 설계의 가능성을 없애고, 최대한 바텀-업 방식으로 설계하는 것이 최종적으로 우리 모두의 시간을 아낄 수 있을 것이라고 생각한다. (*그렇다고 현재 회사의 프로세스를 내 멋대로 바꿀 수는 없다)
<br>
천천히 시간을 들여, 도메인 주도 설계를 공부하고, 팀원 중 누군가가 학습을 요구할 때 이것을 발표할 수 있는 기회를 얻는다면, 최선을 다해 팀원에게 설명해 볼 참이다. <br>

열심히 탐구한 지식을 완벽하게 보전하고 유지하는 건 힘든 일이다. 조직의 구성은 불변한 것이 아니기에, 사람들이 갖고 있는 지식도 여기저기로 흩어진다. 그리고 힘겹게 알아낸 지식이 코드와 문서에 유용하게 표현되지 못하면, 구두로 지식이 전달되는 과정에서 지식은 사라진다.
생산성이 뛰어난 팀은 의식적으로 지식을 함양하는 시간을 가짐으로써 도메인 모델링 기술과 기술적 지식을 습득하고, 뿐만 아니라 현재 종사하는 특정 도메인에 관해 진지하게 학습하기도 한다. <br>

우리 팀은 할 수 있을 것 같다. 하지만 시간이 조금 많이 들여야 할 것 같기도하고, 내가 꾸준히 노력하고 학습한다면, 분명 이 설계법을 적용해 볼 수 있을만큼 우리팀에 대한 확신이 있다.

### 의사소통과 언어 사용

가장 중요한 부분이다. 의사 소통과 비지니스 모델의 언어를 사용하는 것이다. 이 때 사용해 볼 법한 유용한 도구는:

- Documents
- UML Diagram

이다. 사람들은 비주얼적으로 보는 것을 선호하는 편이며, 이를 통해 객체의 관계 등을 쉽게 파악하여 의사소통을 원할하게 돕는 역할을 한다고 한다. <br>

### 모델과 구현의 연계
분석을 위한 모델과 설계를 위한 모델, 두 가지의 모델이 있다고 한다. 
- 지나치게 이론적인 모델은 실제 세계를 대변하는 설계에 적용하기가 어려울 것이다.
- 설계만을 위한 모델은 지식 탐구 과정에서 얻은 지식들을 온전히 반영하지 못할 가능성이 높다.
- 보편 언어와 분석과 설계, 두 가지 측면을 모두 만족하는 단 하나의 모델을 만들어라.
- 구현과 모델을 하나로 묶기 위한 객체지향 프로그래밍을 지원하는 소프트웨어 개발 도구 언어가 필요하다.

현재 사내 너무 많은 언어가 혼재되어 있고, 나는 이것이 우리의 분석과 설계를 위한 단 하나의 모델을 만드는 것에 방해가 된다고 생각하고 있다. 팀의 규모가 크면 괜찮겠지만,
작은 소규모의 팀이라면, 언어의 통합이 조금 더 분석과 설계를 쉽게 할 수 있도록 하지 않을까?

### 도메인의 격리
User Interface Layer
사용자에게 정보를 보여주고 사용자의 명령을 해석하는 일을 책임진다. 아마 이 부분을 Layered architecture 에서 controller 에 책임을 위임했었던 것 같다.
하지만 윤들님 발표에 의하면, 핵사고날 아키텍쳐에서 Port 에 해당하는 인바운드, 아웃바운드로 나누어, 책임을 명확히 분리한다고 하셨다. 정말 배울게 많은 것 같다.
기본적으로 나는 클린 아키텍처를 먼저 공부했고, 토비의 스프링을 공부해보고(1권), 짜낸 레이어의 구조는:
- Presentation (사용자 인터페이스, Controller 책임)
- Application (서비스 레이어, 실제 비지니스 로직을 처리 및 담당하는 부분, 하지만 연산은 하지 않는다.)
- Domain (도메인 모델, 서비스, Infrastructure 레이어에 매핑 될 도메인 레포지토리, Entity, ValueObject 로 구성) 
- Infrastructure (실제 DB에 접근하거나 외부 라이브러리 모듈과 연관된 로직 또는 설정 파일 등을 여기서 관리했다);

응용 (Application) 계층
소프트웨어가 수행할 작업을 정의하고 표현력 있는 도메인 객체가 문제를 해결하게 한다. 이 계층에서 책임지는 작업은 업무상 중요하거나 다른 시스템의 응용 계층과 상호작용하는 데 필요한 것들이다.
소프트웨어가 실제로 수행할 작업에 대한 정의는 이 계층에서 이루어지지만, 어떠한 비즈니스 로직이나 도메인 지식도 포함되지 않는다. 이들에 대한 처리는 모두 도메인 계층의 책임이다.

도메인 (Domain) 계층
업무 개념과 업무 상황에 관한 정보, 업무 규칙을 표현하는 일을 책임진다. 바로 이 계층에 개발자와 도메인 전문가가 함께 고민한 도메인 지식이 담긴다. 이 계층에서는 업무 상황을 반영하는 상태를 제어하고 사용하며, <br>
그와 같은 상태 저장과 관련된 기술적인 세부사항은 인프라스트럭처에 위임한다. 

인프라스트럭처 (Infrastructure) 계층
위에서 언급한 상위 계층을 지원하는 일반화된 기술적 기능을 제공한다.

### 계층 간 아키텍처

**공부해야 할 것:**
- 양파 아키텍쳐
- 클린 아키텍쳐
- 핵사고날 아키텍쳐

---
**후기**
앞 서 선배 개발자분들의 발표를 듣고, 기존에 작성한 README 그냥 삭제했습니다. 하하. 뭐랄까 이번편은 그저.. 후기로 남기고 싶었어요. 직면한 다양한 사례를 통해 지식의 깊이와 케이스를 공부할 수 있었고,
제가 공부해야 할 부분이 어떤 것인지 확실하게 알 수 있었어요. 아마도 이 에릭에반스 선생님의 도메인 주도 개발 설계만을 읽으면 안될 것 같다고 생각하게 되었어요. 그래서 다음 2주차에 있을 엔터티 발표와 함께 <br>
디자인 패턴, 리팩토링, 그리고 다양한 DDD 사례 및 블로그를 번역하여 풍부한 대표 README 가 작성될 수 있도록 기여하고 싶습니다!. 첫번째 밋업에서 많은 것을 배울 수 있게 되었습니다.
